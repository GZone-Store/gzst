<!DOCTYPE html>
<html lang="en" class="bg-[#1e0a2a] text-white">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Game Download</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/heroicons@2.0.16/dist/outline.min.js"></script>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-auth-compat.js"></script>

    <style>
      @keyframes marquee {
        0% { transform: translateX(100%); }
        100% { transform: translateX(-100%); }
      }
      .animate-marquee {
        display: inline-block;
        white-space: nowrap;
        animation: marquee 15s linear infinite;
      }
      .dot {
        width: 6px;
        height: 6px;
        border-radius: 9999px;
        margin: 0 4px;
        background-color: white;
        opacity: 0.5;
      }
      .dot.active {
        background-color: #a855f7;
        opacity: 1;
      }
    </style>
  </head>

  <body class="flex flex-col min-h-screen">
    <!-- โลโก้ -->
    <div id="logoBar" class="fixed top-0 w-full bg-[#1e0a2a] z-20">
      <div class="p-4">
        <img src="logo.png.png" alt="Logo" class="h-10 mx-auto" />
      </div>
    </div>

    <!-- หน้าแรก -->
    <div id="home" class="flex-1 pb-16 block pt-20">
      <!-- แบนเนอร์ -->
      <div class="relative w-full overflow-hidden h-40">
        <div id="banner-carousel" class="flex transition-transform duration-500 ease-in-out">
          <img src="banner3.png.jpg" class="w-full h-40 object-cover flex-shrink-0" />
          <img src="banner1.png.jpg" class="w-full h-40 object-cover flex-shrink-0" />
          <img src="banner2.png.jpg" class="w-full h-40 object-cover flex-shrink-0" />
          <img src="banner3.png.jpg" class="w-full h-40 object-cover flex-shrink-0" />
          <img src="banner1.png.jpg" class="w-full h-40 object-cover flex-shrink-0" />
        </div>
        <div class="absolute bottom-2 left-1/2 transform -translate-x-1/2 flex">
          <div class="dot" id="dot0"></div>
          <div class="dot" id="dot1"></div>
          <div class="dot" id="dot2"></div>
        </div>
      </div>

      <!-- ประกาศ -->
      <div class="bg-[#2e1b44] px-4 py-2 mt-2 overflow-hidden text-sm">
        <div class="whitespace-nowrap animate-marquee">
          <span class="mr-6">ประกาศ: เกมใหม่มาแล้ว! อย่าลืมลองโหลดดูนะครับ</span>
          <span class="mr-6">โปรโมชั่นเดือนนี้ โหลดฟรีไม่เสียค่าใช้จ่าย!</span>
        </div>
      </div>

      <!-- หัวข้อ -->
      <h2 class="text-lg font-bold px-4 pt-4">เกมยอดนิยม</h2>

      <!-- รายการเกม -->
      <div class="grid grid-cols-2 gap-4 p-4">
        <script>
          const gameList = [
            { name: "Love Warriors", image: "game1.png.jpg", link: "https://example.com/love-warriors" },
            { name: "Love & Battle", image: "game2.png.jpg", link: "https://example.com/love-battle" },
            { name: "Zombie Fight", image: "game3.png.jpg", link: "https://example.com/zombie-fight" },
            { name: "Car Drift", image: "game4.png.jpg", link: "https://example.com/car-drift" },
            { name: "Shooting Pro", image: "game5.png.jpg", link: "https://example.com/shooting-pro" },
            { name: "Dragon Love", image: "game6.png.jpg", link: "https://example.com/dragon-love" },
            { name: "Adventure World", image: "game7.png.jpg", link: "https://example.com/adventure-world" },
            { name: "Puzzle Love", image: "game8.png.jpg", link: "https://example.com/puzzle-love" },
            { name: "GZONE STORE", image: "gzone.png.png", link: "https://example.com/puzzle-love" },
          ];

          window.onload = () => {
            const grid = document.querySelector("#home .grid");
            gameList.forEach(game => {
              const div = document.createElement("div");
              div.className = "bg-[#2b1140] rounded-2xl p-2 text-left";
              div.innerHTML = `
                <img src="${game.image}" alt="${game.name}" class="rounded-xl mb-2" />
                <div class="text-white font-semibold">${game.name}</div>
                <a href="${game.link}" target="_blank" class="bg-purple-500 block text-center mt-2 py-1 rounded-xl">ดาวน์โหลด</a>
              `;
              grid.appendChild(div);
            });

            goTo("home"); // เปิดหน้าแรกและโชว์โลโก้เมื่อโหลด
          };
        </script>
      </div>
    </div>

    <!-- หน้าค้นหา -->
    <div id="search" class="hidden flex-1 pb-16">
      <div class="fixed top-0 w-full bg-[#1e0a2a] z-10 p-4 flex items-center">
        <input type="text" id="searchInput" placeholder="ค้นหาเกมที่นี่..." class="flex-1 rounded-full border border-gray-300 px-4 py-2 text-sm text-black" />
        <button id="searchButton" class="ml-2 p-2 bg-purple-500 rounded-full">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M21 21l-4.35-4.35M17 11a6 6 0 11-12 0 6 6 0 0112 0z" />
          </svg>
        </button>
      </div>
      <div class="pt-20 px-4 pb-4 space-y-3 text-white text-sm" id="searchResults"></div>
    </div>

    <!-- หน้าบัญชี -->
    <div id="account" class="hidden flex-1 pb-16 p-6 text-sm text-white space-y-4">
      <div id="userInfo" class="hidden">
        <p>คุณล็อกอินเป็น: <span id="userEmail"></span></p>
        <button onclick="logout()" class="bg-red-500 px-4 py-2 rounded-xl">ออกจากระบบ</button>
      </div>

      <div id="loginForm">
        <input type="email" id="email" placeholder="อีเมล" class="w-full p-2 rounded text-black" />
        <input type="password" id="password" placeholder="รหัสผ่าน" class="w-full p-2 rounded text-black mt-2" />
        <button onclick="login()" class="bg-purple-600 w-full py-2 rounded-xl mt-3">เข้าสู่ระบบ</button>
        <button onclick="register()" class="text-sm underline mt-2">สมัครสมาชิกใหม่</button>
      </div>
    </div>

    <!-- เมนูด้านล่าง -->
    <nav class="fixed bottom-0 left-0 right-0 bg-[#1a0526] text-white flex justify-around items-center h-16 border-t border-purple-800">
      <button onclick="goTo('home')" class="flex flex-col items-center">
        <img src="icon-home.png.png" class="w-6 h-6" />
        <span class="text-xs">หน้าแรก</span>
      </button>
      <button onclick="goTo('search')" class="flex flex-col items-center">
        <img src="icon-search.png.png" class="w-6 h-6" />
        <span class="text-xs">ค้นหา</span>
      </button>
      <button onclick="goTo('account')" class="flex flex-col items-center">
        <img src="icon-user.png.png" class="w-6 h-6" />
        <span class="text-xs">บัญชี</span>
      </button>
    </nav>

    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyAuWomazKXngJRI5eGaLs3YPNJ0fQ1-_Hc",
        authDomain: "gzone-store.firebaseapp.com",
        projectId: "gzone-store",
        storageBucket: "gzone-store.firebasestorage.app",
        messagingSenderId: "20383169229",
        appId: "1:20383169229:web:e225735efbea6589120784",
        measurementId: "G-WZLDR9JQKS"
      };

      firebase.initializeApp(firebaseConfig);
      const auth = firebase.auth();
      const userInfo = document.getElementById('userInfo');
      const loginForm = document.getElementById('loginForm');
      const userEmail = document.getElementById('userEmail');
      const logoutButton = document.getElementById('logoutButton');

      // ฟังก์ชันการเข้าสู่ระบบ
      function login() {
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        auth.signInWithEmailAndPassword(email, password)
          .then((userCredential) => {
            const user = userCredential.user;
            userEmail.textContent = user.email;
            loginForm.classList.add('hidden');
            userInfo.classList.remove('hidden');
          })
          .catch((error) => {
            alert('เข้าสู่ระบบไม่สำเร็จ: ' + error.message);
          });
      }

      // ฟังก์ชันการสมัครสมาชิก
      function register() {
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        auth.createUserWithEmailAndPassword(email, password)
          .then((userCredential) => {
            const user = userCredential.user;
            alert('สมัครสมาชิกสำเร็จ');
            login();
          })
          .catch((error) => {
            alert('สมัครสมาชิกไม่สำเร็จ: ' + error.message);
          });
      }

      // ฟังก์ชันการออกจากระบบ
      function logout() {
        auth.signOut()
          .then(() => {
            loginForm.classList.remove('hidden');
            userInfo.classList.add('hidden');
            alert('ออกจากระบบแล้ว');
          })
          .catch((error) => {
            alert('ไม่สามารถออกจากระบบได้: ' + error.message);
          });
      }

      // เปลี่ยนหน้า
      function goTo(page) {
        document.querySelectorAll('.flex-1').forEach(div => div.classList.add('hidden'));
        document.getElementById(page).classList.remove('hidden');
      }
    </script>
  </body>
</html>
